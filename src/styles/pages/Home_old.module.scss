// @import "/styles/vars";

$circle-size: 20vw;
$text-stroke: 1px rgba(0, 0, 0, 0.7);
$off-text-stroke: 1px transparent;
$nice-ease: cubic-bezier(0.57, 0.01, 0, 1.01);
@mixin anim-on {
  opacity: 0.3;

  color: red;

  text-shadow: 0px 0px 0 rgb(249, -6, 0), 1px 1px 0 rgb(243, -12, 0),
    2px 2px 0 rgb(237, -18, 0), 3px 3px 0 rgb(231, -24, 0),
    4px 4px 0 rgb(225, -30, 0), 5px 5px 0 rgb(219, -36, 0),
    6px 6px 0 rgb(213, -42, 0), 7px 7px 0 rgb(207, -48, 0),
    8px 8px 0 rgb(201, -54, 0), 9px 9px 0 rgb(195, -60, 0),
    10px 10px 0 rgb(189, -66, 0), 11px 11px 0 rgb(183, -72, 0),
    12px 12px 0 rgb(177, -78, 0), 13px 13px 0 rgb(171, -84, 0),
    14px 14px 13px rgba(255, 0, 0, 0), 14px 14px 1px rgba(255, 0, 0, 0.5),
    0px 0px 13px rgba(255, 0, 0, 0.2);
  -webkit-text-stroke: $off-text-stroke;
}

@mixin anim-off {
  opacity: 0.3;
  color: white;
  text-shadow: none;
  -webkit-text-stroke: $text-stroke;
}
.container {
  height: 100vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;

  .wrapper_wrapper {
    display: grid;
    width: 100%;
    height: 100%;

    .wrapper {
      place-self: center;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      height: 50vh;
      position: relative;
      &::before {
        content: "";
        width: 5000%;
        height: 5000%;
        position: absolute;
        pointer-events: none;
        will-change: transform, opacity;
        background: linear-gradient(
          0deg,
          var(--main-bg-color) 0%,
          var(--main-bg-color) 50%,
          var(--main-color) 50%,
          var(--main-color) 100%
        );

        animation:
        spin-bg 5s $nice-ease,
        circle-move 5s $nice-ease;
        animation-fill-mode: forwards;
        will-change: transform, background;
      }
      &::after {
        will-change: transform, opacity;
        content: "";
        width: 500%;
        height: 500%;
        position: absolute;
        pointer-events: none;
        background: url(/grain.webp);
        opacity: 0.4;
        animation: grain-move 8s steps(10) infinite,
          grain-hide 15s $nice-ease normal forwards;
      }
      h1 {
        position: absolute;
        font-variant: small-caps;
        will-change: transform, opacity;
        letter-spacing: 5px;
        user-select: none;
        text-rendering: geometricPrecision;
        padding: 20px;
        perspective: 1000px;
        display: block;
        text-align: center;
        font-size: 25vw;
        color: white;
        mix-blend-mode: difference;
        transform-style: preserve-3d;
        animation:
        color 10s linear infinite,
        el-reveal 5s $nice-ease,
        el-reveal2 2s 4s $nice-ease,
        breathe 10s 7s $nice-ease infinite;

        animation-fill-mode: forwards;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      h2 {
        // position: absolute;
        // font-variant: small-caps;
        will-change: transform, opacity;
        letter-spacing: 5px;
        user-select: none;
        text-rendering: geometricPrecision;
        perspective: 1000px;
        place-self: center;
        text-align: center;
        font-size: 25vw;
        color: white;
        mix-blend-mode: difference;
        transform-style: preserve-3d;
        animation:
        color 10s linear infinite,
        el-reveal 5s $nice-ease,
        el-reveal2 2s 4s $nice-ease,
        breathe 10s 7s $nice-ease infinite,
        h2-show 10s $nice-ease infinite;

        animation-fill-mode: forwards;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        display: grid;
        line-height: 1;
        &::before {
          will-change: transform, opacity;
          // flex-shrink: 1;
          // flex-grow: 0;
          // grid-row: 1;
          grid-area: 1/1;
          // grid-column: 1;
          // place-self: center;
          justify-self: flex-start;
          text-transform: uppercase;
          content: attr(text);
          // display: block;
          display: inline-block;
          // transform: translateX(50%);
          clip-path: polygon(25% 0, 75% 0, 25% 100%, 0 100%, 0 0);
          // transform: translateX(-30px) translateY(30px);
          animation: h2-before 10s $nice-ease infinite;
        }
        &::after {
          will-change: transform, opacity;
          //    flex-shrink: 1;
          // flex-grow: 0;
          // grid-row: 1;
          // grid-column: 1;
          grid-area: 1/1;
          text-transform: uppercase;
          display: inline-block;

          place-self: center;
          // transform: translateX(-50%);
          content: attr(text);
          clip-path: polygon(75% 0, 100% 0, 100% 100%, 75% 100%, 25% 100%);
          // transform: translateX(30px) translateY(-30px);
          animation: h2-after 10s $nice-ease infinite;
        }
      }
    }

    section {
      place-self: center;
      padding-top: 5vh;
      width: 50%;
      display: flex;
      justify-content: space-evenly;
      mix-blend-mode: difference;
      border-top: 1vh solid rgba(255, 255, 255, 0.7);
      opacity: 0;
      animation: reveal 2s $nice-ease 6s forwards;

      svg {
        mix-blend-mode: difference;
        color: rgba(255, 255, 255, 0.671);
        opacity: 0;
        transition: transform 0.5s $nice-ease, opacity 0.5s $nice-ease,
          color 0.5s $nice-ease;
        animation: reveal 2s $nice-ease 6s forwards;
        &:hover {
          // color: red;
          // will-change: transform,opacity;
          color: rgba(255, 255, 255, 0.924);
          transform: scale(1.5);
          // opacity: 0.5 !important;
        }
      }
    }
              &.skip_intro{
section, section a, section svg{

  animation: reveal 1s $nice-ease
  forwards;
}

		}
  }
}

@keyframes grain-hide {
  to {
    opacity: 0.2;
  }
}

@keyframes grain-move {
  0%,
  100% {
    transform: translate(0, 0);
  }
  10% {
    transform: translate(-5%, -10%);
  }
  20% {
    transform: translate(-15%, 5%);
  }
  30% {
    transform: translate(7%, -25%);
  }
  40% {
    transform: translate(-5%, 25%);
  }
  50% {
    transform: translate(-15%, 10%);
  }
  60% {
    transform: translate(15%, 0%);
  }
  70% {
    transform: translate(0%, 15%);
  }
  80% {
    transform: translate(3%, 35%);
  }
  90% {
    transform: translate(-10%, 10%);
  }
}
@keyframes spin-bg {
  0% {
    transform: rotate(0deg);
  }
  50% {
    transform: rotate(360deg);
  }
  100% {
    transform: rotate(90deg);
  }
}

@keyframes el-reveal {
  0% {
    transform: rotate(45deg) scale(3) translateY(-10vh);
    //         background: linear-gradient(0deg,
    // var(--main-bg-color ) 0%,
    // var(--main-bg-color ) 50%,
    //  var(--main-color ) 50%,
    //  var(--main-color ) 100%),
    //  radial-gradient(circle at center, #ebf8e1 $circle-size, #f69d3c $circle-size);
  }

  50% {
    transform: rotate(0deg) scale(0.7, 1) translateY(-10vh);
  }
  100% {
    //     background: linear-gradient(0deg,
    // var(--main-bg-color ) 0%,
    // var(--main-bg-color ) 50%,
    //  var(--main-color ) 50%,
    //  var(--main-color ) 100%),
    //  radial-gradient(circle at calc(50% - #{$circle-size * 2}) center, #ebf8e1 $circle-size, #f69d3c $circle-size);
    transform: scale(0.7, 0.7) translateY(-10vh);
  }
}
@keyframes el-reveal2 {
  to {
    transform: scale(1, 0.9) translateY(0);
  }
}
@keyframes color {
  0% {
    opacity: 0.7;

    color: white;
    -webkit-text-stroke: $off-text-stroke;
  }
  50% {
    opacity: 0.7;

    color: white;
    -webkit-text-stroke: $off-text-stroke;
  }
  59% {
    opacity: 0.7;

    color: white;
    text-shadow: none;
    -webkit-text-stroke: $off-text-stroke;
  }
  81% {
    @include anim-on;
  }
  82% {
    @include anim-off;
  }
  83% {
    @include anim-on;
  }
  84% {
    @include anim-off;
  }
  85% {
    @include anim-on;
  }
  86% {
    @include anim-off;
  }
  87% {
    @include anim-on;
  }
  88% {
    @include anim-off;
  }
  89% {
    @include anim-on;
  }
  100% {
    opacity: 0.7;

    color: white;
    text-shadow: none;
    -webkit-text-stroke: $off-text-stroke;
  }
}

@keyframes breathe {
  0% {
    transform: scale(1, 0.9);
  }
  50% {
    transform: scale(0.9, 1);
  }
  100% {
    transform: scale(1, 0.9);

    // transform: ;
  }
}

@keyframes reveal {
  to {
    opacity: 1;
  }
}

@keyframes h2-show {
  0% {
    opacity: 0;
  }
  60% {
    opacity: 0;
  }
  61% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

@keyframes h2-before {
  0% {
    transform: translateX(0) translateY(0);
  }
  60% {
    transform: translateX(0) translateY(0);
  }
  90% {
    transform: translateX(-30px) translateY(30px);
  }
  100% {
    transform: translateX(0) translateY(0);
  }
}

@keyframes h2-after {
  0% {
    transform: translateX(0) translateY(0);
  }
  60% {
    transform: translateX(0) translateY(0);
  }
  90% {
    transform: translateX(30px) translateY(-30px);
  }
  100% {
    transform: translateX(0) translateY(0);
  }
}
